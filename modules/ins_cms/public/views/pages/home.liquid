---
slug: home
metadata: {
    page_name: "Home",
    page_title: "Home",
    is_sitemap_enabled: "true",
}
--- 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LinguaLink - AI Translation Widget</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Inter', sans-serif; }
      
      /* Custom Scrollbar */
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      
      /* Animations */
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      .animate-fade-in { animation: fadeIn 0.2s ease-out; }
      .animate-slide-up { animation: slideUp 0.3s ease-out; }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body class="bg-white text-gray-900 antialiased relative">

    <!-- ========================================== -->
    <!-- DEMO PAGE CONTENT -->
    <!-- ========================================== -->

    <!-- Navigation -->
    <nav class="fixed w-full bg-white/80 backdrop-blur-md z-40 border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="ml-2 text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-violet-600">
                        LinguaLink
                    </span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="#" class="text-gray-500 hover:text-indigo-600 transition-colors text-sm font-medium">Products</a>
                    <a href="#" class="text-gray-500 hover:text-indigo-600 transition-colors text-sm font-medium">Solutions</a>
                    <a href="#" class="text-gray-500 hover:text-indigo-600 transition-colors text-sm font-medium">Customers</a>
                    <a href="#" class="text-gray-500 hover:text-indigo-600 transition-colors text-sm font-medium">Pricing</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="text-gray-500 hover:text-gray-900 text-sm font-medium">Contact Sales</button>
                    <button class="bg-indigo-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg">
                        Get Started
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative text-center">
            <span class="inline-block py-1 px-3 rounded-full bg-indigo-50 text-indigo-700 text-xs font-semibold tracking-wide mb-6 border border-indigo-100">
                New Feature: Real-time AI Translation
            </span>
            <h1 class="text-5xl md:text-7xl font-extrabold text-gray-900 tracking-tight mb-8 leading-tight max-w-4xl mx-auto">
                Break Language Barriers Instantly.
            </h1>
            <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-500 mb-10">
                Deploy our intelligent widget to your website and automatically translate your content for a global audience with a single line of code.
            </p>
            <div class="flex justify-center gap-4 flex-col sm:flex-row">
                <button class="px-8 py-4 bg-indigo-600 text-white rounded-xl font-semibold text-lg hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 transform hover:-translate-y-1">
                    Start Free Trial
                </button>
                <button class="px-8 py-4 bg-white text-gray-700 border border-gray-200 rounded-xl font-semibold text-lg hover:bg-gray-50 transition-all hover:border-gray-300">
                    View Demo
                </button>
            </div>
            
            <!-- Abstract shapes background -->
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full -z-10 pointer-events-none">
                <div class="absolute top-20 left-10 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse"></div>
                <div class="absolute top-20 right-10 w-72 h-72 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse" style="animation-delay: 1s;"></div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-24 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-3xl font-bold text-gray-900 sm:text-4xl mb-4">Why Choose LinguaLink?</h2>
                <p class="text-lg text-gray-600">Everything you need to go global without the headache of manual localization.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Item 1 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-6 text-indigo-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Instant Integration</h3>
                    <p class="text-gray-500 leading-relaxed">Copy and paste our script tag. That's it. No complex backend setup or API configuration required.</p>
                </div>
                <!-- Item 2 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-6 text-indigo-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">AI-Powered Context</h3>
                    <p class="text-gray-500 leading-relaxed">We don't just swap words. Our AI understands context, tone, and brand voice to deliver native-quality translations.</p>
                </div>
                <!-- Item 3 -->
                <div class="bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-6 text-indigo-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Zero Latency</h3>
                    <p class="text-gray-500 leading-relaxed">Optimized for speed. Your localized content loads instantly, ensuring no impact on your Core Web Vitals.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-24 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="mb-10">
                <svg class="w-12 h-12 text-gray-300 mx-auto mb-6" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H15.017C14.4647 8 14.017 8.44772 14.017 9V11C14.017 11.5523 13.5693 12 13.017 12H12.017V5H22.017V15C22.017 18.3137 19.3307 21 16.017 21H14.017ZM8.01696 21L8.01696 18C8.01696 16.8954 8.91239 16 10.017 16H13.017C13.5693 16 14.017 15.5523 14.017 15V9C14.017 8.44772 13.5693 8 13.017 8H9.01696C8.46468 8 8.01696 8.44772 8.01696 9V11C8.01696 11.5523 7.56925 12 7.01696 12H6.01696V5H16.017V15C16.017 18.3137 13.3307 21 10.017 21H8.01696Z"></path></svg>
                <blockquote class="text-2xl md:text-3xl font-medium text-gray-900 leading-snug">
                    "LinguaLink completely transformed our expansion strategy. We launched in Japan and Germany in days, not months."
                </blockquote>
            </div>
            <div class="flex items-center justify-center space-x-3">
                <div class="w-10 h-10 rounded-full bg-gray-200 overflow-hidden">
                    <img src="https://picsum.photos/100/100" alt="Avatar" class="w-full h-full object-cover" />
                </div>
                <div class="text-left">
                    <div class="font-bold text-gray-900 text-sm">Sarah Chen</div>
                    <div class="text-indigo-600 text-xs font-medium">CTO at TechFlow</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <span class="font-bold text-xl tracking-tight text-white">LinguaLink</span>
                <p class="text-gray-400 text-sm mt-2">© 2024 LinguaLink Inc. All rights reserved.</p>
            </div>
            <div class="flex space-x-6">
                <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">Privacy Policy</a>
                <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">Terms of Service</a>
            </div>
        </div>
    </footer>

    <!-- ========================================== -->
    <!-- EMBED MODAL (Hidden by default) -->
    <!-- ========================================== -->
    <div id="embed-modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-gray-900/50 backdrop-blur-sm font-sans animate-fade-in">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-slide-up">
            <!-- Header -->
            <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <div>
                    <h2 class="text-xl font-bold text-gray-900">Install LinguaLink</h2>
                    <p class="text-sm text-gray-500 mt-1">Follow the guide below to integrate the widget.</p>
                </div>
                <button id="close-modal" class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors">
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>

            <!-- Tabs -->
            <div class="flex border-b border-gray-200 bg-white px-6">
                <button id="tab-code" class="py-3 px-4 text-sm font-medium flex items-center space-x-2 border-b-2 border-indigo-600 text-indigo-600 transition-colors">
                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                    <span>Embed Code</span>
                </button>
                <button id="tab-manual" class="py-3 px-4 text-sm font-medium flex items-center space-x-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 transition-colors">
                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                    <span>Client Manual</span>
                </button>
            </div>

            <!-- Content -->
            <div class="flex-1 overflow-hidden flex flex-col relative group">
                <div class="absolute top-4 right-4 z-10">
                    <button id="copy-btn" class="flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all shadow-sm border bg-white text-gray-700 border-gray-200 hover:border-gray-300 hover:bg-gray-50">
                        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                        <span>Copy</span>
                    </button>
                </div>
                
                <div class="flex-1 overflow-auto bg-[#1e1e1e] p-6 text-sm font-mono leading-relaxed">
                    <pre id="modal-content" class="text-gray-300 whitespace-pre-wrap break-all"></pre>
                </div>
            </div>

            <!-- Footer -->
            <div class="p-4 border-t border-gray-100 bg-gray-50 flex justify-between items-center text-xs text-gray-500">
                <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                    <span>Ready for production</span>
                </div>
                <span>v1.0.0 • Powered by Gemini</span>
            </div>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- WIDGET CONTAINER -->
    <!-- ========================================== -->
    <div id="lingua-link-widget"></div>

    <!-- ========================================== -->
    <!-- APPLICATION LOGIC -->
    <!-- ========================================== -->
    <script type="module">
        import { GoogleGenAI } from "https://esm.run/@google/genai";

        const CONFIG = {
            apiKey: process.env.API_KEY,
            targetSelector: "body",
            themeColor: "#4F46E5",
            position: "bottom-right"
        };

        // Constants for Modal Content
        const EMBED_CODE = `<!-- LinguaLink Embed Code -->
<div id="lingua-link-widget"></div>
<script type="module">
  import { GoogleGenAI } from "https://esm.run/@google/genai";

  const CONFIG = {
    apiKey: "YOUR_GEMINI_API_KEY_HERE",
    targetSelector: "body",
    themeColor: "#4F46E5",
    position: "bottom-right", // 'bottom-right', 'bottom-left', 'top-right', 'top-left'
    icon: null // Optional: Paste SVG string here to override default
  };

  class LinguaLink {
    constructor(userConfig) {
      this.config = {
        themeColor: "#4F46E5",
        position: "bottom-right",
        icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
        ...userConfig
      };
      this.ai = new GoogleGenAI({ apiKey: this.config.apiKey });
      this.originalMap = new Map();
      this.injectWidget();
    }

    injectWidget() {
      const container = document.getElementById('lingua-link-widget');
      if (!container) return;
      
      const { themeColor, position, icon } = this.config;
      
      const margin = "20px";
      let posStyle = "";
      let menuStyle = "";
      
      if (position.includes('bottom')) {
        posStyle += \`bottom: \${margin};\`;
        menuStyle += "bottom: 60px;";
      } else {
        posStyle += \`top: \${margin};\`;
        menuStyle += "top: 60px;";
      }

      if (position.includes('right')) {
        posStyle += \`right: \${margin};\`;
        menuStyle += "right: 0;";
      } else {
        posStyle += \`left: \${margin};\`;
        menuStyle += "left: 0;";
      }

      container.innerHTML = \`
        <div style="position: fixed; \${posStyle} z-index: 9999; font-family: sans-serif;">
          <button id="ll-trigger" style="background: \${themeColor}; color: white; width: 50px; height: 50px; border-radius: 50%; border: none; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; justify-content: center; transition: transform 0.2s;">
            \${icon}
          </button>
          <div id="ll-menu" style="display: none; position: absolute; \${menuStyle} background: white; padding: 10px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); width: 200px;">
            <select id="ll-select" style="width: 100%; padding: 8px; border: 1px solid #eee; border-radius: 6px; margin-bottom: 8px; outline: none; font-size: 14px;">
              <option value="en">English (Original)</option>
              <option value="es">Spanish</option>
              <option value="fr">French</option>
              <option value="de">German</option>
              <option value="ja">Japanese</option>
              <option value="zh">Chinese</option>
              <option value="ar">Arabic</option>
              <option value="pt">Portuguese</option>
            </select>
            <button id="ll-btn" style="width: 100%; background: \${themeColor}; color: white; border: none; padding: 8px; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px; transition: opacity 0.2s;">Translate</button>
          </div>
        </div>
      \`;

      const trigger = document.getElementById('ll-trigger');
      const menu = document.getElementById('ll-menu');
      const btn = document.getElementById('ll-btn');
      const select = document.getElementById('ll-select');

      trigger.onclick = () => {
        const isHidden = menu.style.display === 'none';
        menu.style.display = isHidden ? 'block' : 'none';
        trigger.style.transform = isHidden ? 'rotate(45deg)' : 'rotate(0deg)';
      };
      
      btn.onclick = async () => {
        const originalText = btn.textContent;
        btn.textContent = 'Translating...';
        btn.style.opacity = '0.7';
        btn.disabled = true;
        try {
          await this.translatePage(select.value);
        } catch(e) { console.error(e); }
        btn.textContent = originalText;
        btn.style.opacity = '1';
        btn.disabled = false;
      };
    }

    async translatePage(lang) {
      if (lang === 'en') return this.restore();
      
      const walker = document.createTreeWalker(
        document.querySelector(this.config.targetSelector),
        NodeFilter.SHOW_TEXT,
        { acceptNode: n => n.nodeValue.trim().length > 2 && !n.parentElement.closest('script, style') ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT }
      );
      
      const nodes = [];
      while(walker.nextNode()) nodes.push(walker.currentNode);
      
      const CHUNK_SIZE = 20; 
      const chunks = [];
      for (let i = 0; i < nodes.length; i += CHUNK_SIZE) {
        chunks.push(nodes.slice(i, i + CHUNK_SIZE));
      }

      for (const chunk of chunks) {
        const texts = chunk.map(n => {
          if (!this.originalMap.has(n)) this.originalMap.set(n, n.nodeValue);
          return n.nodeValue.trim();
        });

        const prompt = \`Translate the following JSON array of strings to \${lang}. Return strictly a JSON array of strings: \${JSON.stringify(texts)}\`;
        
        try {
          const result = await this.ai.models.generateContent({
            model: "gemini-2.5-flash",
            contents: prompt,
            config: { responseMimeType: "application/json" }
          });
          const translations = JSON.parse(result.text);
          chunk.forEach((node, i) => {
            if (translations[i]) node.nodeValue = translations[i];
          });
        } catch(err) {
          console.warn("Translation chunk failed", err);
        }
      }
    }

    restore() {
      this.originalMap.forEach((val, node) => node.nodeValue = val);
    }
  }

  new LinguaLink(CONFIG);
<\/script>`;

        const MANUAL_TEXT = `# LinguaLink Widget - Client Installation Guide

## Overview
LinguaLink is an AI-powered translation widget that you can easily embed into your existing website.

## Prerequisites
1. A **Google Gemini API Key**.
2. Access to your website's HTML source code.

## Installation Steps

### 1. Copy the Snippet
Copy the code snippet provided in the "Embed Code" tab.

### 2. Paste into Your Website
Open your website's main HTML file (e.g., index.html).
Paste the code snippet just before the closing </body> tag.

### 3. Configure
Update the \`CONFIG\` object in the script with your settings:

\`\`\`javascript
const CONFIG = {
  apiKey: "YOUR_GEMINI_API_KEY", // Required
  targetSelector: "body",        // Optional
  themeColor: "#4F46E5",         // Optional: Hex Color
  position: "bottom-right",      // Optional: Corner position
  icon: null                     // Optional: SVG String
};
\`\`\`

## Configuration Options

| Option | Description | Default |
|--------|-------------|---------|
| \`themeColor\` | Background color for the button. | \`#4F46E5\` (Indigo) |
| \`position\` | Where the widget appears. Options: \`bottom-right\`, \`bottom-left\`, \`top-right\`, \`top-left\`. | \`bottom-right\` |
| \`icon\` | A raw SVG string to replace the globe icon. | Globe Icon |

## Troubleshooting
- **Widget not appearing**: Ensure the code is placed before </body>.
- **Translation fails**: Check your API Key quotas.
`;

        // ==========================================
        // HOST WIDGET IMPLEMENTATION
        // (Slightly augmented version of the client widget to include "Get Embed Code")
        // ==========================================
        class HostLinguaLink {
            constructor(userConfig) {
                this.config = {
                    themeColor: "#4F46E5",
                    position: "bottom-right",
                    ...userConfig
                };
                this.ai = new GoogleGenAI({ apiKey: this.config.apiKey });
                this.originalMap = new Map();
                this.injectWidget();
            }

            injectWidget() {
                const container = document.getElementById('lingua-link-widget');
                if (!container) return;

                const { themeColor, position } = this.config;

                container.innerHTML = `
                    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 9990; font-family: sans-serif;">
                        <button id="host-trigger" class="flex items-center justify-center w-14 h-14 rounded-full shadow-2xl transition-all duration-300 hover:scale-105" style="background: ${themeColor}; color: white; border: none;">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                        </button>
                        <div id="host-menu" style="display: none; position: absolute; bottom: 70px; right: 0; background: white; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); width: 320px; overflow: hidden; border: 1px solid #f3f4f6;">
                            <div class="bg-gradient-to-r from-indigo-600 to-violet-600 p-4 flex justify-between items-center text-white">
                                <div class="flex items-center space-x-2">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                    <h3 class="font-bold text-sm tracking-wide">Website Translator</h3>
                                </div>
                                <div class="flex items-center space-x-1">
                                     <button id="open-embed" title="Get Embed Code" class="p-1 rounded hover:bg-white/20 transition-colors"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></button>
                                     <button id="close-menu" class="p-1 rounded hover:bg-white/20 transition-colors"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
                                </div>
                            </div>
                            <div class="p-5">
                                <label class="block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Select Destination Language</label>
                                <div class="grid grid-cols-2 gap-2 mb-4">
                                     <button class="lang-btn px-3 py-2 rounded-lg text-sm border border-gray-100 hover:bg-gray-50 text-left" data-lang="es">Spanish</button>
                                     <button class="lang-btn px-3 py-2 rounded-lg text-sm border border-gray-100 hover:bg-gray-50 text-left" data-lang="fr">French</button>
                                     <button class="lang-btn px-3 py-2 rounded-lg text-sm border border-gray-100 hover:bg-gray-50 text-left" data-lang="de">German</button>
                                     <button class="lang-btn px-3 py-2 rounded-lg text-sm border border-gray-100 hover:bg-gray-50 text-left" data-lang="ja">Japanese</button>
                                     <button class="lang-btn px-3 py-2 rounded-lg text-sm border border-gray-100 hover:bg-gray-50 text-left" data-lang="zh">Chinese</button>
                                     <button class="lang-btn px-3 py-2 rounded-lg text-sm border border-gray-100 hover:bg-gray-50 text-left" data-lang="en">English (Original)</button>
                                </div>
                                <button id="host-translate-btn" class="w-full py-3 rounded-xl bg-indigo-600 text-white font-bold text-sm shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition-all flex items-center justify-center gap-2">
                                   <span>Translate Now</span>
                                </button>
                            </div>
                        </div>
                    </div>
                `;

                const trigger = document.getElementById('host-trigger');
                const menu = document.getElementById('host-menu');
                const closeMenu = document.getElementById('close-menu');
                const openEmbed = document.getElementById('open-embed');
                const translateBtn = document.getElementById('host-translate-btn');
                let selectedLang = 'en';

                // UI Handlers
                trigger.onclick = () => {
                    const isHidden = menu.style.display === 'none';
                    menu.style.display = isHidden ? 'block' : 'none';
                    trigger.style.transform = isHidden ? 'rotate(90deg)' : 'rotate(0deg)';
                    if (isHidden) trigger.classList.add('bg-gray-800');
                    else trigger.classList.remove('bg-gray-800');
                };

                closeMenu.onclick = () => {
                    menu.style.display = 'none';
                    trigger.style.transform = 'rotate(0deg)';
                    trigger.classList.remove('bg-gray-800');
                };

                // Embed Modal
                openEmbed.onclick = () => {
                    const modal = document.getElementById('embed-modal');
                    const content = document.getElementById('modal-content');
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                    content.textContent = EMBED_CODE;
                    setActiveTab('code');
                };

                // Language Selection
                const langBtns = document.querySelectorAll('.lang-btn');
                langBtns.forEach(btn => {
                    btn.onclick = () => {
                        langBtns.forEach(b => {
                            b.classList.remove('bg-indigo-50', 'border-indigo-200', 'text-indigo-700', 'ring-1', 'ring-indigo-200');
                        });
                        btn.classList.add('bg-indigo-50', 'border-indigo-200', 'text-indigo-700', 'ring-1', 'ring-indigo-200');
                        selectedLang = btn.dataset.lang;
                    };
                });

                // Translation Logic
                translateBtn.onclick = async () => {
                    const originalText = translateBtn.innerHTML;
                    translateBtn.innerHTML = `<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing...`;
                    translateBtn.disabled = true;
                    translateBtn.classList.add('opacity-75');

                    try {
                         await this.translatePage(selectedLang);
                    } catch(e) {
                        console.error(e);
                        alert("Translation failed. Please check console.");
                    }

                    translateBtn.innerHTML = originalText;
                    translateBtn.disabled = false;
                    translateBtn.classList.remove('opacity-75');
                };
            }

            async translatePage(lang) {
                if (lang === 'en') return this.restore();

                // Use TreeWalker to find all text nodes
                // Filter out scripts, styles, and the widget itself
                const walker = document.createTreeWalker(
                    document.body,
                    NodeFilter.SHOW_TEXT,
                    {
                        acceptNode: n => {
                            const parent = n.parentElement;
                            if (parent.closest('script') || parent.closest('style') || parent.closest('#lingua-link-widget') || parent.closest('#embed-modal')) {
                                return NodeFilter.FILTER_REJECT;
                            }
                            if (n.nodeValue.trim().length > 2) {
                                return NodeFilter.FILTER_ACCEPT;
                            }
                            return NodeFilter.FILTER_REJECT;
                        }
                    }
                );

                const nodes = [];
                while (walker.nextNode()) nodes.push(walker.currentNode);

                const CHUNK_SIZE = 15;
                const chunks = [];
                for (let i = 0; i < nodes.length; i += CHUNK_SIZE) {
                    chunks.push(nodes.slice(i, i + CHUNK_SIZE));
                }

                for (const chunk of chunks) {
                    const texts = chunk.map(n => {
                        // Store original if not already stored
                        if (!this.originalMap.has(n)) this.originalMap.set(n, n.nodeValue);
                        // Always translate from ORIGINAL to avoid drift
                        return this.originalMap.get(n).trim(); 
                    });

                    const prompt = `Translate the following JSON array of strings to ${lang}. Return strictly a JSON array of strings. Preserve whitespace if needed for UI but generally trim: ${JSON.stringify(texts)}`;

                    try {
                        const result = await this.ai.models.generateContent({
                            model: "gemini-2.5-flash",
                            contents: prompt,
                            config: { responseMimeType: "application/json" }
                        });
                        const translations = JSON.parse(result.text);
                        chunk.forEach((node, i) => {
                            if (translations[i]) node.nodeValue = translations[i];
                        });
                    } catch (err) {
                        console.warn("Translation chunk failed", err);
                    }
                }
            }

            restore() {
                this.originalMap.forEach((val, node) => node.nodeValue = val);
            }
        }

        // ==========================================
        // MODAL LOGIC
        // ==========================================
        const modal = document.getElementById('embed-modal');
        const closeModal = document.getElementById('close-modal');
        const tabCode = document.getElementById('tab-code');
        const tabManual = document.getElementById('tab-manual');
        const modalContent = document.getElementById('modal-content');
        const copyBtn = document.getElementById('copy-btn');

        function setActiveTab(tab) {
            if (tab === 'code') {
                tabCode.classList.replace('border-transparent', 'border-indigo-600');
                tabCode.classList.replace('text-gray-500', 'text-indigo-600');
                tabManual.classList.replace('border-indigo-600', 'border-transparent');
                tabManual.classList.replace('text-indigo-600', 'text-gray-500');
                modalContent.textContent = EMBED_CODE;
                modalContent.classList.remove('font-sans');
            } else {
                tabManual.classList.replace('border-transparent', 'border-indigo-600');
                tabManual.classList.replace('text-gray-500', 'text-indigo-600');
                tabCode.classList.replace('border-indigo-600', 'border-transparent');
                tabCode.classList.replace('text-indigo-600', 'text-gray-500');
                modalContent.textContent = MANUAL_TEXT;
                modalContent.classList.add('font-sans');
            }
        }

        closeModal.onclick = () => {
             modal.classList.add('hidden');
             modal.classList.remove('flex');
        };

        tabCode.onclick = () => setActiveTab('code');
        tabManual.onclick = () => setActiveTab('manual');

        copyBtn.onclick = () => {
            navigator.clipboard.writeText(modalContent.textContent);
            const originalHTML = copyBtn.innerHTML;
            copyBtn.innerHTML = `<span class="text-green-600 flex items-center gap-1">Copied!</span>`;
            setTimeout(() => copyBtn.innerHTML = originalHTML, 2000);
        };

        // ==========================================
        // INITIALIZATION
        // ==========================================
        new HostLinguaLink(CONFIG);
    </script>
</body>
</html>